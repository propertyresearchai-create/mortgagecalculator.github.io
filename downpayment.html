<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Down Payment Calculator - Property Calculator Hub</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    :root { --bg:#0b1020; --panel:#121733; --card:#1a2042; --accent:#6ea8fe; --accent-2:#45e0b7; --text:#e7ecff; --muted:#b7c0e6; --border:#27305a; --ring:rgba(110,168,254,.35); --radius:14px; --space:16px; --space-lg:24px; --shadow:0 8px 30px rgba(7,12,32,.35); --grid-gap:24px; --focus:0 0 0 3px var(--ring), 0 0 0 1px var(--accent); }
    * { box-sizing:border-box; }
    body { margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: radial-gradient(1200px 600px at 10% -10%, #1e2550 0%, rgba(18,23,51,0) 60%), radial-gradient(1200px 600px at 110% 10%, #102f3a 0%, rgba(18,23,51,0) 60%), var(--bg); color:var(--text); }
    .container { max-width:1100px; margin:0 auto; padding:32px 20px 60px; }
    .top-navigation { position:sticky; top:0; z-index:10; backdrop-filter: blur(8px); background: linear-gradient(to right, rgba(11,16,32,.6), rgba(11,16,32,.2)); border-bottom:1px solid var(--border); }
    .nav-content { max-width:1100px; margin:0 auto; display:flex; align-items:center; justify-content:space-between; padding:14px 20px; }
    .nav-logo { display:flex; gap:10px; align-items:center; font-weight:700; letter-spacing:.2px; }
    .nav-logo .dot { width:10px; height:10px; border-radius:50%; background:linear-gradient(135deg, var(--accent), var(--accent-2)); box-shadow:0 0 0 6px rgba(69,224,183,.18); }
    .nav-menu { display:flex; gap:14px; list-style:none; margin:0; padding:0; }
    .nav-link { display:inline-flex; align-items:center; gap:8px; color:var(--muted); text-decoration:none; padding:8px 12px; border-radius:10px; transition:.2s ease; border:1px solid transparent; }
    .nav-link:hover { color:var(--text); background:rgba(106,143,255,.08); border-color:var(--border); }
    .nav-link.active { color:var(--text); background:linear-gradient(180deg, rgba(110,168,254,.18), rgba(110,168,254,.06)); border-color:rgba(110,168,254,.35); }
    h1 { font-size:clamp(22px, 2.4vw, 28px); margin:28px 0 8px; }
    .subtitle { color:var(--muted); margin-bottom:28px; }
    .calculator-grid { display:grid; grid-template-columns:1fr; gap:var(--grid-gap); }
    @media (min-width:920px){ .calculator-grid { grid-template-columns: 1.05fr .95fr; } }
    .card, .result-card { background: linear-gradient(180deg, rgba(26,32,66,.85), rgba(18,23,51,.95)); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); }
    .card{ padding:24px; }
    .result-card{ padding:20px; }
    .section-title{ font-weight:600; margin:0 0 14px 0; }
    .field-grid { display:grid; grid-template-columns:1fr; gap:14px; }
    @media (min-width:600px){ .field-grid { grid-template-columns:1fr 1fr; } }
    .form-group { display:flex; flex-direction:column; gap:8px; }
    label { font-size:14px; color:var(--muted); }
    .input-wrap { position:relative; }
    .input-wrap .prefix { position:absolute; inset-inline-start:12px; inset-block-start:50%; transform:translateY(-50%); color:var(--muted); font-size:14px; }
    input[type="number"], select { width:100%; appearance:none; background:var(--card); color:var(--text); border:1px solid var(--border); border-radius:10px; padding:12px 12px 12px 38px; outline:none; transition:.15s ease; }
    input:focus, select:focus { box-shadow:var(--focus); border-color:var(--accent); }
    .actions { display:flex; gap:12px; flex-wrap:wrap; margin-top:10px; }
    .btn { border:1px solid transparent; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:600; }
    .btn-primary { background:linear-gradient(180deg, #6ea8fe, #3f7ef2); color:#0b1020; }
    .btn-primary:hover { filter:brightness(1.08); }
    .btn-secondary { background:transparent; color:var(--text); border-color:var(--border); }
    .btn-secondary:hover { background:rgba(255,255,255,.03); }
    .result-header { display:flex; align-items:baseline; justify-content:space-between; gap:12px; margin-bottom:10px; }
    .result-amount { font-size:clamp(22px, 3vw, 30px); font-weight:700; color:var(--accent-2); }
    .breakdown { display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:10px; }
    .breakdown .row { display:flex; align-items:center; justify-content:space-between; padding:10px 12px; background:rgba(255,255,255,.03); border:1px solid var(--border); border-radius:10px; }
    .disclaimer { color:var(--muted); font-size:13px; margin-top:14px; }
    .sr-only { position:absolute; width:1px; height:1px; padding:0; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    .foot-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:14px; margin-top:var(--space-lg); }
    .foot-card { background:rgba(255,255,255,.03); border:1px dashed var(--border); border-radius:12px; padding:14px; }
  </style>
</head>
<body>
  <header class="top-navigation" role="banner">
    <div class="nav-content" role="navigation" aria-label="Primary">
      <div class="nav-logo" aria-label="Property Calculator Hub">
        <span class="dot" aria-hidden="true"></span>
        <a class="nav-link" href="/" aria-label="Home">Property Calculator Hub</a>
      </div>
      <nav aria-label="Calculators">
        <ul class="nav-menu">
          <li><a class="nav-link" href="/mortgage.html">Mortgage</a></li>
          <li><a class="nav-link" href="/loan.html">Loan</a></li>
          <li><a class="nav-link active" href="/downpayment.html" aria-current="page">Down Payment</a></li>
          <li><a class="nav-link" href="/blog.html">Blog</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container" id="main-content">
    <h1>Down Payment Calculator</h1>
    <p class="subtitle">Estimate how much down payment you need and how it impacts your monthly payment.</p>

    <section class="calculator-grid" aria-label="Down payment calculator">
      <div class="card" role="region" aria-labelledby="inputs-title">
        <h2 id="inputs-title" class="section-title">Inputs</h2>
        <div class="field-grid">
          <div class="form-group">
            <label for="homePrice">Home price</label>
            <div class="input-wrap">
              <span class="prefix" aria-hidden="true">$</span>
              <input id="homePrice" name="homePrice" type="number" inputmode="decimal" min="0" step="1000" placeholder="400000" aria-describedby="homePriceHelp" />
            </div>
            <small id="homePriceHelp" class="sr-only">Enter the estimated home price</small>
          </div>
          <div class="form-group">
            <label for="downPercent">Down payment percent</label>
            <div class="input-wrap">
              <span class="prefix" aria-hidden="true">%</span>
              <input id="downPercent" name="downPercent" type="number" inputmode="decimal" min="0" max="100" step="0.1" placeholder="20" aria-describedby="downPercentHelp" />
            </div>
            <small id="downPercentHelp" class="sr-only">Percentage of the home price used for down payment</small>
          </div>
          <div class="form-group">
            <label for="loanTerm">Loan term</label>
            <select id="loanTerm" name="loanTerm">
              <option value="30" selected>30 years</option>
              <option value="20">20 years</option>
              <option value="15">15 years</option>
              <option value="10">10 years</option>
            </select>
          </div>
          <div class="form-group">
            <label for="interestRate">Interest rate</label>
            <div class="input-wrap">
              <span class="prefix" aria-hidden="true">%</span>
              <input id="interestRate" name="interestRate" type="number" inputmode="decimal" min="0" step="0.01" placeholder="6.75" />
            </div>
          </div>
          <div class="form-group">
            <label for="propertyTax">Annual property tax</label>
            <div class="input-wrap">
              <span class="prefix" aria-hidden="true">$</span>
              <input id="propertyTax" name="propertyTax" type="number" inputmode="decimal" min="0" step="100" placeholder="3600" />
            </div>
          </div>
          <div class="form-group">
            <label for="homeInsurance">Annual home insurance</label>
            <div class="input-wrap">
              <span class="prefix" aria-hidden="true">$</span>
              <input id="homeInsurance" name="homeInsurance" type="number" inputmode="decimal" min="0" step="50" placeholder="1200" />
            </div>
          </div>
        </div>
        <div class="actions">
          <button class="btn btn-primary" id="calcBtn" type="button">Calculate</button>
          <button class="btn btn-secondary" id="resetBtn" type="button">Reset</button>
        </div>
      </div>

      <div class="result-card" role="region" aria-labelledby="results-title">
        <h2 id="results-title" class="section-title">Results</h2>
        <div class="result-header">
          <div>
            <div aria-live="polite" aria-atomic="true">Estimated monthly payment</div>
            <div class="result-amount" id="monthlyPayment" aria-live="polite" aria-atomic="true">$0</div>
          </div>
          <div>
            <div aria-live="polite" aria-atomic="true">Down payment</div>
            <div class="result-amount" id="downPayment" aria-live="polite" aria-atomic="true">$0</div>
          </div>
        </div>
        <div class="breakdown" aria-live="polite" aria-atomic="true">
          <div class="row"><span>Principal & Interest</span><strong id="pi">$0</strong></div>
          <div class="row"><span>Property Tax</span><strong id="tax">$0</strong></div>
          <div class="row"><span>Home Insurance</span><strong id="ins">$0</strong></div>
          <div class="row"><span>Loan Amount</span><strong id="loanAmount">$0</strong></div>
        </div>
        <p class="disclaimer">This is an estimate for educational purposes only and is not financial advice. Actual terms may vary by lender and location.</p>
      </div>
    </section>

    <section class="foot-grid" aria-label="Helpful links">
      <div class="foot-card">Tip: Increasing your down payment reduces the loan amount and monthly interest.</div>
      <div class="foot-card">Compare scenarios by adjusting rate and term to see payment impact.</div>
      <div class="foot-card">Remember to include taxes and insurance when budgeting for total monthly cost.</div>
    </section>
  </main>

  <script>
    function toNumber(v){ if(typeof v==="number") return v; if(!v) return 0; return parseFloat((""+v).replace(/,/g, '')) || 0; }
    function fmt(n){ return n.toLocaleString(undefined,{maximumFractionDigits:0}); }
    function calc(){
      const price = toNumber(document.getElementById('homePrice').value);
      const dpPct = toNumber(document.getElementById('downPercent').value)/100;
      const years = parseInt(document.getElementById('loanTerm').value,10);
      const rate = toNumber(document.getElementById('interestRate').value)/100;
      const taxAnnual = toNumber(document.getElementById('propertyTax').value);
      const insAnnual = toNumber(document.getElementById('homeInsurance').value);
      const down = price * dpPct;
      const loan = Math.max(price - down, 0);
      const mRate = rate/12;
      const n = years*12;
      const pi = rate > 0 && n>0 ? loan * (mRate*Math.pow(1+mRate,n)) / (Math.pow(1+mRate,n)-1) : (n>0? loan/n : 0);
      const taxM = taxAnnual/12;
      const insM = insAnnual/12;
      const total = pi + taxM + insM;
      document.getElementById('downPayment').textContent = '$' + fmt(Math.round(down));
      document.getElementById('loanAmount').textContent = '$' + fmt(Math.round(loan));
      document.getElementById('pi').textContent = '$' + fmt(Math.round(pi));
      document.getElementById('tax').textContent = '$' + fmt(Math.round(taxM));
      document.getElementById('ins').textContent = '$' + fmt(Math.round(insM));
      document.getElementById('monthlyPayment').textContent = '$' + fmt(Math.round(total));
    }
    function resetForm(){
      document.getElementById('homePrice').value = '';
      document.getElementById('downPercent').value = '';
      document.getElementById('loanTerm').value = '30';
      document.getElementById('interestRate').value = '';
      document.getElementById('propertyTax').value = '';
      document.getElementById('homeInsurance').value = '';
      document.getElementById('downPayment').textContent = '$0';
      document.getElementById('loanAmount').textContent = '$0';
      document.getElementById('pi').textContent = '$0';
      document.getElementById('tax').textContent = '$0';
      document.getElementById('ins').textContent = '$0';
      document.getElementById('monthlyPayment').textContent = '$0';
    }
    document.getElementById('calcBtn')?.addEventListener('click', calc);
    document.getElementById('resetBtn')?.
