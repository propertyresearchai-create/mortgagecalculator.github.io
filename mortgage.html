<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mortgage Calculator</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <nav>
    <div class="nav-container">
      <h1>üè† Property Calculator Hub</h1>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="mortgage.html" class="active">Mortgage</a></li>
        <li><a href="loan.html">Loan</a></li>
        <li><a href="downpayment.html">Down Payment</a></li>
        <li><a href="blog.html">Blog</a></li>
      </ul>
    </div>
  </nav>
  <main>
    <h1>üí∞ Mortgage Calculator</h1>
    <p class="subtitle">Estimate your monthly mortgage payment including taxes and insurance</p>
    <div class="calculator-container">
      <div class="card">
        <h2>üìù Loan Details</h2>
        <form id="mortgageForm">
          <div class="row">
            <div class="col-6">
              <div class="form-group">
                <label for="homePrice">Home Price</label>
                <div class="field">
                  <input type="number" id="homePrice" value="300000" min="0">
                  <span class="suffix">$</span>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label for="downPayment">Down Payment</label>
                <div class="field">
                  <input type="number" id="downPayment" value="60000" min="0">
                  <span class="suffix">$</span>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <div class="form-group">
                <label for="loanTerm">Loan Term (Years)</label>
                <div class="field">
                  <input type="number" id="loanTerm" value="30" min="1" max="50">
                  <span class="suffix">yrs</span>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label for="interestRate">Interest Rate</label>
                <div class="field">
                  <input type="number" id="interestRate" value="6.5" step="0.1" min="0">
                  <span class="suffix">%</span>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <div class="form-group">
                <label for="propertyTax">Property Tax (Annual)</label>
                <div class="field">
                  <input type="number" id="propertyTax" value="3600" min="0">
                  <span class="suffix">$</span>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label for="homeInsurance">Home Insurance (Annual)</label>
                <div class="field">
                  <input type="number" id="homeInsurance" value="1200" min="0">
                  <span class="suffix">$</span>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <div class="form-group">
                <label for="pmi">PMI (Monthly)</label>
                <div class="field">
                  <input type="number" id="pmi" value="0" min="0">
                  <span class="suffix">$</span>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label for="hoa">HOA (Monthly)</label>
                <div class="field">
                  <input type="number" id="hoa" value="0" min="0">
                  <span class="suffix">$</span>
                </div>
              </div>
            </div>
          </div>
          <div class="actions">
            <button type="button" class="btn btn-primary" onclick="calculate()">üí∞ Calculate</button>
            <button type="button" class="btn btn-secondary" onclick="resetForm()">üîÑ Reset</button>
          </div>
        </form>
      </div>
      <div class="card">
        <h2>üìä Monthly Payment Breakdown</h2>
        <div class="results">
          <div class="result-item">
            <span class="result-label">Principal & Interest</span>
            <span class="result-value" id="principalInterest">$0</span>
          </div>
          <div class="result-item">
            <span class="result-label">Property Tax</span>
            <span class="result-value" id="monthlyTax">$0</span>
          </div>
          <div class="result-item">
            <span class="result-label">Home Insurance</span>
            <span class="result-value" id="monthlyInsurance">$0</span>
          </div>
          <div class="result-item">
            <span class="result-label">PMI</span>
            <span class="result-value" id="monthlyPMI">$0</span>
          </div>
          <div class="result-item">
            <span class="result-label">HOA</span>
            <span class="result-value" id="monthlyHOA">$0</span>
          </div>
          <div class="result-item total">
            <span class="result-label">Total Monthly Payment</span>
            <span class="result-value" id="totalPayment">$0</span>
          </div>
        </div>
        <p class="disclaimer">*Estimates only. Consult a lender for accurate figures.</p>
      </div>
    </div>
  </main>
  <script>
    function calculate() {
      const homePrice = parseFloat(document.getElementById('homePrice').value) || 0;
      const downPayment = parseFloat(document.getElementById('downPayment').value) || 0;
      const loanTerm = parseFloat(document.getElementById('loanTerm').value) || 30;
      const interestRate = parseFloat(document.getElementById('interestRate').value) || 0;
      const propertyTax = parseFloat(document.getElementById('propertyTax').value) || 0;
      const homeInsurance = parseFloat(document.getElementById('homeInsurance').value) || 0;
      const pmi = parseFloat(document.getElementById('pmi').value) || 0;
      const hoa = parseFloat(document.getElementById('hoa').value) || 0;
      
      const loanAmount = homePrice - downPayment;
      const monthlyRate = interestRate / 100 / 12;
      const numPayments = loanTerm * 12;
      
      let principalInterest = 0;
      if (monthlyRate > 0) {
        principalInterest = loanAmount * (monthlyRate * Math.pow(1 + monthlyRate, numPayments)) / (Math.pow(1 + monthlyRate, numPayments) - 1);
      } else {
        principalInterest = loanAmount / numPayments;
      }
      
      const monthlyTax = propertyTax / 12;
      const monthlyInsurance = homeInsurance / 12;
      const total = principalInterest + monthlyTax + monthlyInsurance + pmi + hoa;
      
      document.getElementById('principalInterest').textContent = '$' + principalInterest.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
      document.getElementById('monthlyTax').textContent = '$' + monthlyTax.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
      document.getElementById('monthlyInsurance').textContent = '$' + monthlyInsurance.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
      document.getElementById('monthlyPMI').textContent = '$' + pmi.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
      document.getElementById('monthlyHOA').textContent = '$' + hoa.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
      document.getElementById('totalPayment').textContent = '$' + total.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
    }
    
    function resetForm() {
      document.getElementById('homePrice').value = '300000';
      document.getElementById('downPayment').value = '60000';
      document.getElementById('loanTerm').value = '30';
      document.getElementById('interestRate').value = '6.5';
      document.getElementById('propertyTax').value = '3600';
      document.getElementById('homeInsurance').value = '1200';
      document.getElementById('pmi').value = '0';
      document.getElementById('hoa').value = '0';
      calculate();
    }
    
    window.onload = function() {
      calculate();
    };
  </script>
</body>
</html>
